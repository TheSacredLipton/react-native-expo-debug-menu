# react-native-expo-debug-menu

React Native (Expo) ã‚¢ãƒ—ãƒªå‘ã‘ã®ãƒ‡ãƒãƒƒã‚°ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚
é–‹ç™ºç‰ˆãƒ“ãƒ«ãƒ‰ (`__DEV__`) ã‚„ç‰¹å®šã®æ¡ä»¶ä¸‹ã§ã®ã¿è¡¨ç¤ºã•ã‚Œã‚‹ãƒ‡ãƒãƒƒã‚°ãƒœã‚¿ãƒ³ã‚’æä¾›ã—ã€ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

iOSã§ã¯ãƒã‚¤ãƒ†ã‚£ãƒ–ã®ActionSheetã‚’ä½¿ç”¨ã—ã€Androidã‚„Webã§ã¯ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

## ç‰¹å¾´

- ğŸ ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒœã‚¿ãƒ³ã§ãƒ‡ãƒãƒƒã‚°ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«ç°¡å˜ã«ã‚¢ã‚¯ã‚»ã‚¹
- ğŸ“± iOS / Android / Web å¯¾å¿œ
- ğŸ¨ iOSã§ã¯ãƒã‚¤ãƒ†ã‚£ãƒ–UI (ActionSheet) ã‚’ä½¿ç”¨
- ğŸ›  é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ (`__DEV__`) ã®è‡ªå‹•æ¤œçŸ¥
- âš¡ï¸ éåŒæœŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚µãƒãƒ¼ãƒˆ

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install react-native-expo-debug-menu
# ã¾ãŸã¯
yarn add react-native-expo-debug-menu
```

## ä½¿ã„æ–¹

ã‚¢ãƒ—ãƒªã®ãƒ«ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆã¾ãŸã¯ä»»æ„ã®ã‚³ãƒ³ãƒ†ãƒŠï¼‰ã‚’ `DebugMenuProvider` ã§ãƒ©ãƒƒãƒ—ã—ã€å®Ÿè¡Œã—ãŸã„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒªã‚¹ãƒˆã‚’ `actions` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«æ¸¡ã—ã¾ã™ã€‚

`debugMode` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ `true` ã«è¨­å®šã™ã‚‹ã¨ã€ç”»é¢å³ä¸‹ã«ãƒ‡ãƒãƒƒã‚°ãƒœã‚¿ãƒ³ï¼ˆğŸï¼‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```tsx
import { DebugMenuProvider, DebugAction } from 'react-native-expo-debug-menu';
import { Stack } from 'expo-router';
import { Alert } from 'react-native';

export default function RootLayout() {
  const debugActions: DebugAction[] = [
    {
      label: 'APIãƒ­ã‚°ã‚’è¡¨ç¤º',
      onPress: () => console.log('API Logs...'),
    },
    {
      label: 'ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢',
      onPress: async () => {
        // éåŒæœŸå‡¦ç†ã‚‚ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™
        await clearCache();
        Alert.alert('å®Œäº†', 'ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ');
      },
      style: 'destructive', // èµ¤å­—ã§è¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆiOS/Androidå…±é€šï¼‰
    },
  ];

  return (
    // debugMode={true} ã§ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º
    <DebugMenuProvider actions={debugActions} debugMode>
      <Stack />
    </DebugMenuProvider>
  );
}
```

## Props

### DebugMenuProvider

| Prop             | Type              | Default      | Description                                                                                 |
| ---------------- | ----------------- | ------------ | ------------------------------------------------------------------------------------------- |
| `actions`        | `DebugAction[]`   | **Required** | ãƒ‡ãƒãƒƒã‚°ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«è¡¨ç¤ºã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒªã‚¹ãƒˆ                                                |
| `children`       | `React.ReactNode` | **Required** | ãƒ©ãƒƒãƒ—ã™ã‚‹å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ                                                                  |
| `enabled`        | `boolean`         | `__DEV__`    | ãƒ‡ãƒãƒƒã‚°ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã‹ã©ã†ã‹ã€‚`false`ã®å ´åˆã€ãƒœã‚¿ãƒ³ã‚‚ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚ |
| `debugMode`      | `boolean`         | `false`      | `true` ã®å ´åˆã€ç”»é¢å³ä¸‹ã«ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒœã‚¿ãƒ³ï¼ˆğŸï¼‰ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚                            |
| `defaultVisible` | `boolean`         | `false`      | åˆæœŸçŠ¶æ…‹ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹ã‹ã©ã†ã‹ã€‚                                                      |

### DebugAction

| Property  | Type                                     | Description                                                                    |
| --------- | ---------------------------------------- | ------------------------------------------------------------------------------ |
| `label`   | `string`                                 | ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å                                               |
| `onPress` | `() => void \| Promise<void>`            | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒé¸æŠã•ã‚ŒãŸã¨ãã«å®Ÿè¡Œã•ã‚Œã‚‹é–¢æ•°                                     |
| `style`   | `'default' \| 'cancel' \| 'destructive'` | (Optional) ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«ã€‚`destructive`ã‚’æŒ‡å®šã™ã‚‹ã¨èµ¤å­—ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ |

## é–‹ç™ºãƒ»å…¬é–‹æ‰‹é †

### ãƒ“ãƒ«ãƒ‰

```bash
npm run build
```

### npmã¸ã®å…¬é–‹

1. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ›´æ–°ã—ã¾ã™ã€‚

```bash
npm version patch # ã¾ãŸã¯ minor, major
```

2. npmã«å…¬é–‹ã—ã¾ã™ï¼ˆãƒ“ãƒ«ãƒ‰ã¯è‡ªå‹•çš„ã«å®Ÿè¡Œã•ã‚Œã¾ã™ï¼‰ã€‚

```bash
npm publish
```

## License

MIT
